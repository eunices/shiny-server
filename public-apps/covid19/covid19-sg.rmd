---
runtime: shiny
title: "COVID 19 Singapore"
output: 
  html_document:
    toc: true
    theme: flatly
---

```{r echo=FALSE}
knitr::opts_chunk$set(echo=FALSE, message=FALSE, warning=FALSE)
```

```{r}
# Libraries
library(rvest)
library(ggplot2)
library(tidyr)
library(data.table)
library(gridExtra)
source('main.r')
source('util.r')

# Resources
# https://staff.math.su.se/hoehle/blog/2020/03/16/flatteningthecurve.html
# https://blog.ephorie.de/covid-19-the-case-of-germany 
# https://rviews.rstudio.com/2020/03/19/simulating-covid-19-interventions-with-r/

# Params
theme = theme_minimal()
```

## Get data

```{r echo=T}
url = "https://co.vid19.sg/cases/search"
df = try({get_data(url)})
print(df)
print(class(df))

if(class(df)=="try-error") {
  df = clean_data(df)
} else {
  df = get_alternative_data()
}  
```

Data is obtained from `r url`. 
